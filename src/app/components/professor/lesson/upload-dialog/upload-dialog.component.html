<div style="max-width: 600px">
  <h2 class="title">Aggiungi Materiale</h2>
  <div class="dropzone"
       dropZone
       (hovered)="toggleHover($event)"
       (dropped)="startUpload($event)"
       [class.hovering]="isHovering">
    <h3>Drop Zone</h3>
  </div>
  <div style="display: flex" class="file-container">
    <div class="file-title"> Sposta i file nell'area tratteggiata, oppure</div>
    <div class="file">
      <input type="file" name="file" id="file" class="inputfile" (change)="startUpload($event.target.files)"/>
      <label for="file" class="mat-raised-button">AGGIUNGI</label>
    </div>
  </div>
  <mat-divider></mat-divider>
  <div class="file-container">
    <div *ngIf="snapshot | async as snap" style="display: flex; margin: 15px 0 15px 0;">
      <div style="margin-right: 50px;">
        <div *ngIf="percentage | async as pct">
          <progress class="progress is-info"
                    [value]="pct"
                    max="100">
          </progress>
          {{ pct | number }}%
        </div>
        {{ snap.bytesTransferred }} of {{ snap.totalBytes }}
      </div>
      <div>
        <button (click)="task.pause()" class="button is-warning" [disabled]="!isActive(snap)">Pause</button>
        <button (click)="task.cancel()" class="button is-danger" [disabled]="!isActive(snap)">Cancel</button>
        <button (click)="task.resume()" class="button is-info"   [disabled]="!(snap?.state === 'paused')">Resume</button>
      </div>
    </div>
    <div *ngIf="downloadURL | async as url" style="display: flex">
      <div class="file-title">File Caricato:</div>
      <div><a [href]="url"target="_blank" rel="noopener">{{name}}</a></div>
    </div>
  </div>
  <mat-divider></mat-divider>
  <mat-dialog-actions>
    <button class="mat-raised-button"(click)="close()">CHIUDI</button>
    <button class="mat-raised-button mat-primary" (click)="save()">SALVA</button>
  </mat-dialog-actions>
</div>
